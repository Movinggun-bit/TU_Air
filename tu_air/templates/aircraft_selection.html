{% extends "base.html" %}
{% block title %}í•­ê³µê¸° ì„ íƒ - ê´€ë¦¬ì{% endblock %}

{% block content %}
<div class="aircraft-selection-container">
    <div class="aircraft-selection-header">
        <h1>í•­ê³µê¸° ì„ íƒ</h1>
        <p class="aircraft-selection-subtitle">í¸ì„±í•  í•­ê³µê¸°ë¥¼ ì„ íƒí•˜ì„¸ìš”</p>
    </div>

    {% if small_aircraft %}
    <section class="aircraft-category">
        <div class="category-header">
            <h2 class="category-title">
                <span class="category-icon">âœˆï¸</span>
                ì†Œí˜•ê¸°
                <span class="category-badge">{{ small_aircraft|length }}ëŒ€</span>
            </h2>
            <p class="category-description">ì¢Œì„ ìˆ˜ 179ì„ ì´í•˜</p>
        </div>
        <div class="aircraft-grid">
            {% for ac in small_aircraft %}
            <div class="aircraft-card">
                <div class="aircraft-card-header">
                    <h3 class="aircraft-model">{{ ac.Model }}</h3>
                    <span class="aircraft-id">ID: {{ ac.Aircraft_ID }}</span>
                </div>
                <div class="aircraft-card-body">
                    <div class="aircraft-info-item">
                        <span class="info-label">ì œì¡°ì‚¬</span>
                        <span class="info-value">{{ ac.Manufacturer }}</span>
                    </div>
                    <div class="aircraft-info-item">
                        <span class="info-label">ì¢Œì„ ìˆ˜</span>
                        <span class="info-value highlight">{{ ac.Seat_Capacity }}ì„</span>
                    </div>
                </div>
                <div class="aircraft-card-footer">
                    <button class="btn-aircraft-select" onclick="selectAircraft('{{ ac.Aircraft_ID }}')">
                        ì„ íƒ
                    </button>
                    <a href="{{ url_for('admin.aircraft_schedule', aircraft_id=ac.Aircraft_ID) }}" class="btn-aircraft-details">
                        ì¼ì • ë³´ê¸°
                    </a>
                </div>
            </div>
            {% endfor %}
        </div>
    </section>
    {% endif %}

    {% if medium_aircraft %}
    <section class="aircraft-category">
        <div class="category-header">
            <h2 class="category-title">
                <span class="category-icon">ğŸ›«</span>
                ì¤‘í˜•ê¸°
                <span class="category-badge">{{ medium_aircraft|length }}ëŒ€</span>
            </h2>
            <p class="category-description">ì¢Œì„ ìˆ˜ 180~299ì„</p>
        </div>
        <div class="aircraft-grid">
            {% for ac in medium_aircraft %}
            <div class="aircraft-card">
                <div class="aircraft-card-header">
                    <h3 class="aircraft-model">{{ ac.Model }}</h3>
                    <span class="aircraft-id">ID: {{ ac.Aircraft_ID }}</span>
                </div>
                <div class="aircraft-card-body">
                    <div class="aircraft-info-item">
                        <span class="info-label">ì œì¡°ì‚¬</span>
                        <span class="info-value">{{ ac.Manufacturer }}</span>
                    </div>
                    <div class="aircraft-info-item">
                        <span class="info-label">ì¢Œì„ ìˆ˜</span>
                        <span class="info-value highlight">{{ ac.Seat_Capacity }}ì„</span>
                    </div>
                </div>
                <div class="aircraft-card-footer">
                    <button class="btn-aircraft-select" onclick="selectAircraft('{{ ac.Aircraft_ID }}')">
                        ì„ íƒ
                    </button>
                    <a href="{{ url_for('admin.aircraft_schedule', aircraft_id=ac.Aircraft_ID) }}" class="btn-aircraft-details">
                        ì¼ì • ë³´ê¸°
                    </a>
                </div>
            </div>
            {% endfor %}
        </div>
    </section>
    {% endif %}

    {% if large_aircraft %}
    <section class="aircraft-category">
        <div class="category-header">
            <h2 class="category-title">
                <span class="category-icon">ğŸ›©ï¸</span>
                ëŒ€í˜•ê¸°
                <span class="category-badge">{{ large_aircraft|length }}ëŒ€</span>
            </h2>
            <p class="category-description">ì¢Œì„ ìˆ˜ 300ì„ ì´ìƒ</p>
        </div>
        <div class="aircraft-grid">
            {% for ac in large_aircraft %}
            <div class="aircraft-card">
                <div class="aircraft-card-header">
                    <h3 class="aircraft-model">{{ ac.Model }}</h3>
                    <span class="aircraft-id">ID: {{ ac.Aircraft_ID }}</span>
                </div>
                <div class="aircraft-card-body">
                    <div class="aircraft-info-item">
                        <span class="info-label">ì œì¡°ì‚¬</span>
                        <span class="info-value">{{ ac.Manufacturer }}</span>
                    </div>
                    <div class="aircraft-info-item">
                        <span class="info-label">ì¢Œì„ ìˆ˜</span>
                        <span class="info-value highlight">{{ ac.Seat_Capacity }}ì„</span>
                    </div>
                </div>
                <div class="aircraft-card-footer">
                    <button class="btn-aircraft-select" onclick="selectAircraft('{{ ac.Aircraft_ID }}')">
                        ì„ íƒ
                    </button>
                    <a href="{{ url_for('admin.aircraft_schedule', aircraft_id=ac.Aircraft_ID) }}" class="btn-aircraft-details">
                        ì¼ì • ë³´ê¸°
                    </a>
                </div>
            </div>
            {% endfor %}
        </div>
    </section>
    {% endif %}

    {% if not small_aircraft and not medium_aircraft and not large_aircraft %}
    <div class="aircraft-empty-state">
        <p>ë“±ë¡ëœ í•­ê³µê¸°ê°€ ì—†ìŠµë‹ˆë‹¤.</p>
    </div>
    {% endif %}
</div>
{% endblock %}

{% block scripts %}
<script>
    function selectAircraft(aircraftId) {
        const url = "{{ url_for('admin.schedule_dashboard') }}";
        const form = document.createElement('form');
        form.method = 'POST';
        form.action = url;

        const input = document.createElement('input');
        input.type = 'hidden';
        input.name = 'selected_aircraft_id';
        input.value = aircraftId;
        form.appendChild(input);

        document.body.appendChild(form);
        form.submit();
    }
</script>
{% endblock %}
